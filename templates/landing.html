<!DOCTYPE html>
<html>
<title>URL visualizer</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
body,h1 {font-family: "Raleway", sans-serif}
body, html {height: 100%}
.bgimg {
    background-image: url('/static/img/map.jpg');
    min-height: 100%;
    background-position: center;
    background-size: cover;
}
.another-url-box {
      padding: 0.01em 1px;  
}
.sub-menu {
  padding: 0em 12px;   
}

</style>
<body>
<!-- Top container -->
<div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
  <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();"><i class="fa fa-bars"></i>  Menu</button> 
  <span class="w3-bar-item w3-right">Logo</span>
</div>
<!-- Sidebar/menu -->
<nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar"><br>
    <hr>

  <div class="w3-container">
    <form class="w3-container another-url-box" method="POST" action="send">
     <input class="w3-input w3-border w3-round-large w3-animate-input" type="text" name="url" placeholder="Try another URL" style="width:100%">
     </form>
    <h5>Dashboard</h5>
  </div>
  <div class="w3-bar-block sub-menu">
    <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-dark-grey w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>  Close Menu</a>
    <a href="/" class="w3-bar-item w3-button w3-padding"><i class="fa fa-users fa-fw"></i>  Home</a>
    <a href="#Reports" class="w3-bar-item w3-button w3-padding"><i class="fa fa-eye fa-fw"></i>  Reports</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-users fa-fw"></i>  Traffic</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bullseye fa-fw"></i>  Geo</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-diamond fa-fw"></i>  Orders</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bell fa-fw"></i>  News</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bank fa-fw"></i>  General</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-history fa-fw"></i>  History</a>
    <a href="#" class="w3-bar-item w3-button w3-padding"><i class="fa fa-cog fa-fw"></i>  Settings</a><br><br>
    
  </div>  
</nav>


<div class="w3-display-container w3-animate-opacity w3-text-white">

  <div class="w3-row">
    <div id="map"  style="height:600px"></div>
</div>


 </div>
 <!-- Designers -->
  <div class="w3-container" id="Reports" style="padding-left:310px;margin-top:75px;">
    <h1 class="w3-xxxlarge w3-text-red"><b>Designers.</b></h1>
    <hr style="width:50px;border:5px solid red" class="w3-round">
    <p>The best team in the world.</p>
    <p>We are lorem ipsum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
    dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor
    incididunt ut labore et quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    We are lorem ipsum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
    dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor
    incididunt ut labore et quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    We are lorem ipsum consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure
    dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum consectetur adipiscing elit, sed do eiusmod tempor
    incididunt ut labore et quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
    </p>
    <p><b>Our designers are thoughtfully chosen</b>:</p>
  </div>



<script>

  function mapp() {
     var amsterdam = new google.maps.LatLng(40.6451, -73.945);
     var mapCanvas = document.getElementById("map");
     var mapOptions = {center: amsterdam, zoom: 2, mapTypeId:google.maps.MapTypeId.ROADMAP};
     var points = JSON.parse('{{ allPoints|safe }}');  
     var marker;  
     
     var path;                                                       
     var map = new google.maps.Map(mapCanvas,mapOptions);
     var lineSymbol = {
          path: google.maps.SymbolPath.FORWARD_CLOSED_ARROW,
          scale: 3,
          strokeColor: '#393'
        };
     var poly = new google.maps.Polyline({
                map: map,
                path: [],
                icons: [{
                    icon: lineSymbol,
                   offset: '100%'
                 }],
                strokeColor: "#0000FF",
                strokeOpacity: 0.8,
                strokeWeight: 2
              });
      for (var i = 0; i < points.length; i++) {                               
          console.log(points[i]);
          marker = new google.maps.Marker({                                   
            position: new google.maps.LatLng(points[i].lat, points[i].lon),   
            map: map                                                          
          });   

          path = poly.getPath();
          path.push(new google.maps.LatLng(points[i].lat, points[i].lon));
          poly.setPath(path);
      } 
     // animateCircle(poly);
  }
   function animateCircle(line) {
          var count = 10000;
          window.setInterval(function() {
            count = (count + 1) % 200;

            var icons = line.get('icons');
            icons[0].offset = (count / 2) + '%';
            line.set('icons', icons);
        }, 30);
      }
function myMap() {
  /*var stavanger = new google.maps.LatLng(45.9257,73.1409);
  var amsterdam = new google.maps.LatLng(52.395715,4.888916);
  var london = new google.maps.LatLng(51.508742,-0.120850);
   var kochi = new google.maps.LatLng(9.9312,76.2673); 
   var kochi1 = new google.maps.LatLng(8.9312,7.2673); 
  */ //var kochi = new google.maps.LatLng(40.9257,73.1409); 
   var stavanger = new google.maps.LatLng(  40.8714,-73.0425);
   var amsterdam = new google.maps.LatLng(40.6451, -73.945);
   var london = new google.maps.LatLng(40.7128,-74.0059);
   var kochi = new google.maps.LatLng(38.9266, -77.3936); 
   var kochi1 = new google.maps.LatLng(8.5069,76.9569); 

  var type = '{{mapType}}'  

  var mapCanvas = document.getElementById("map");
  if (type === "satelite") {
     var mapOptions = {center: amsterdam, zoom: 2, mapTypeId:google.maps.MapTypeId.ROADMAP};
  }
  else  {
    var mapOptions = {center: amsterdam, zoom: 2, mapTypeId:google.maps.MapTypeId.ROADMAP};
  }

  var map = new google.maps.Map(mapCanvas,mapOptions);

  var flightPath = new google.maps.Polyline({
    path: [stavanger, amsterdam, london,kochi,kochi1],
    strokeColor: "#0000FF",
    strokeOpacity: 0.8,
    strokeWeight: 2
  });
  flightPath.setMap(map);
   var marker = new google.maps.Marker({position:kochi});
   var marker4 = new google.maps.Marker({position:kochi1});
    var marker1 = new google.maps.Marker({position:london});
     var marker2 = new google.maps.Marker({position:amsterdam});
     var marker3 = new google.maps.Marker({position:stavanger});
    marker.setMap(map);
    marker1.setMap(map);
    marker2.setMap(map);
    marker3.setMap(map);
    marker4.setMap(map);
}
</script>
<script async defer
 src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgUvDuVwvTRZO5ei6p5JewLhY4pJz_vYQ&callback=mapp">
</script>

<!-- <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAgUvDuVwvTRZO5ei6p5JewLhY4pJz_vYQ&callback=mapp"></script> -->

<script>
// Get the Sidebar
var mySidebar = document.getElementById("mySidebar");

// Get the DIV with overlay effect
var overlayBg = document.getElementById("myOverlay");

// Toggle between showing and hiding the sidebar, and add overlay effect
function w3_open() {
    if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
    } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
    }
}

// Close the sidebar with the close button
function w3_close() {
    mySidebar.style.display = "none";
    overlayBg.style.display = "none";
}
</script>


</body>
</html>
